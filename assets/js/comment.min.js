function initializeComments(){var e=document.getElementById("comment-form-additional"),n=document.getElementById("comment-form-message");e.classList.add("hidden");var t=function(){e.classList.remove("hidden"),window.scroll(0,function(e){var n=0;if(e.offsetParent){do{n+=e.offsetTop}while(e=e.offsetParent);return[n]}}(n.parentElement)),n.removeEventListener("focus",t)};n.addEventListener("focus",t),n.oninput=function(){var e=window.innerHeight;if(e<=400)var t=5;else if(e<=700)t=10;else if(e<=900)t=15;else t=25;for(;n.scrollHeight>n.clientHeight&&!(n.rows>=t);)n.rows+=1}}function submit_comment(e){e.classList.add("disabled");var n=e.getAttribute("method"),t=e.getAttribute("action"),s=e.getElementsByClassName("notice")[0],o=document.getElementById("comment-form-submit"),a=o.innerHTML,i=serialize(e);o.innerHTML="Sending...";var m=new XMLHttpRequest;m.open(n,t,!0),m.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m.onload=function(){console.log(m.responseText),200==m.status?(s.innerHTML="Thanks for your input! It has been submitted for moderation.",s.className="notice success",o.classList.add("hidden")):r()},m.onerror=function(e){console.log("error",e),r()};var r=function(){s.innerHTML="<strong>Error!</strong> Sorry, something went wrong.<p><small>"+m.responseText+"</small></p>",s.className="notice danger",e.classList.remove("disabled"),o.innerHTML=a};return m.send(i),!1}function serialize(e){if(e&&"FORM"===e.nodeName){var n,t,s=[];for(n=e.elements.length-1;n>=0;n-=1)if(""!==e.elements[n].name)switch(e.elements[n].nodeName){case"INPUT":switch(e.elements[n].type){case"email":case"url":case"text":case"hidden":case"password":case"button":case"reset":case"submit":s.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].value));break;case"checkbox":case"radio":e.elements[n].checked&&s.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].value))}break;case"TEXTAREA":s.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].value));break;case"SELECT":switch(e.elements[n].type){case"select-one":s.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].value));break;case"select-multiple":for(t=e.elements[n].options.length-1;t>=0;t-=1)e.elements[n].options[t].selected&&s.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].options[t].value))}break;case"BUTTON":switch(e.elements[n].type){case"reset":case"submit":case"button":s.push(e.elements[n].name+"="+encodeURIComponent(e.elements[n].value))}}return s.join("&")}}"loading"==document.readyState?document.addEventListener("DOMContentLoaded",initializeComments):initializeComments();
//# sourceMappingURL=comments.min.js.map