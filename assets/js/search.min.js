var index,search=new function(){var e,t,s,n,a,l,i,c,o;this.initialize=function(){if("loading"==document.readyState)return document.addEventListener("DOMContentLoaded",search.initialize),!1;document.getElementsByClassName("site-search")[0].addEventListener("click",e)},e=function(){l||s(),l.classList.remove("hidden"),i.focus(),document.body.classList.add("noscroll")},t=function(){l.classList.add("hidden"),0==i.value.length&&c&&(c.innerHTML="",o.classList.add("hidden")),document.body.classList.remove("noscroll")},s=function(){document.body.insertAdjacentHTML("beforeend",' \t\t\t<section id="search" class="hidden"> \t\t\t\t<div class="wrapper"> \t\t\t\t\t<header id="search-header"> \t\t\t\t\t\t<input type="search" results=5 name="site-search" placeholder="whatcha lookin for?"> \t\t\t\t\t\t<span class="search-close"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"/></svg></span> \t\t\t\t\t</header> \t\t\t\t\t<p class="hidden notice"></p> \t\t\t\t\t<ul class="post-list"></ul> \t\t\t\t</div> \t\t\t</section> \t\t');var e=document.createElement("script");e.src="/assets/js/search-index.js",e.onload=function(){console.timeEnd("elasticlunr-load")},console.time("elasticlunr-load"),document.body.insertAdjacentElement("beforeend",e),l=document.getElementById("search"),(i=l.getElementsByTagName("input")[0]).addEventListener("keyup",function(e){27==e.which?t():13==e.which?(n(),i.blur()):i.value.length>=3?n():c&&(c.innerHTML="",o.classList.add("hidden"))}),l.addEventListener("click",function(e){e.target==l|e.target==l.getElementsByTagName("header")[0]&&t()}),l.getElementsByClassName("search-close")[0].addEventListener("click",t)},n=function(){console.time("search");var e,t,s=i.value,n=index.search(s,{fields:{tags:{boost:4,bool:"AND"},title:{boost:3,bool:"AND"},keywords:{boost:2,bool:"AND"},content:{boost:1,bool:"AND"}},expand:!0});if(console.timeEnd("search"),console.time("display"),0==n.length)var o="no results";else if(1==n.length)o=n.length+" result";else o=n.length+" results";a("info",o),c||(c=l.getElementsByClassName("post-list")[0]),c.innerHTML="";for(var r=0;r<n.length;r++){var d="";if((e=index.documentStore.getDoc(n[r].ref)).tags)for(var h=e.tags.split(", "),u=0;u<h.length;u++)d+=template_tag.replace(/%tag%/g,h[u]);t=template_li.replace(/%year%/g,e.date.substring(0,4)).replace(/%date%/g,e.date).replace(/%url%/g,e.url).replace(/%title%/g,e.title).replace(/%excerpt%/g,e.excerpt).replace(/%tags%/g,d),c.insertAdjacentHTML("beforeend",t)}console.timeEnd("display")},a=function(e,t){o||(o=l.getElementsByClassName("notice")[0]),o.className="notice "+e,o.innerHTML=t}};search.initialize();
//# sourceMappingURL=search.min.js.map